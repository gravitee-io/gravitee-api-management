# This configuration has been automatically generated by the CircleCI Config SDK.
# For more information, see https://github.com/CircleCI-Public/circleci-config-sdk-ts
# SDK Version: 0.0.0-development

version: 2.1
setup: false
parameters:
  gio_action:
    type: string
    default: pull_requests
    description: ""
  dry_run:
    type: boolean
    default: true
    description: Run in dry run mode?
  docker_tag_as_latest:
    type: boolean
    default: false
    description: Is this version the latest version available?
  graviteeio_version:
    type: string
    default: ""
    description: Version of APIM to be used in docker images
  apim_version_path:
    type: string
    default: /home/circleci/project/pom.xml
    description: Path to pom.xml with APIM version
jobs:
  job-publish-rpm-packages:
    machine:
      image: ubuntu-2204:current
      docker_layer_caching: false
    resource_class: medium
    steps:
      - run:
          name: Publishing RPMs is not supported for prerelease version
          command: echo "Publishing RPMs is not supported for prerelease version"
workflows:
  build-rpm:
    jobs:
      - job-publish-rpm-packages:
          context:
            - cicd-orchestrator
          name: Build and push RPM packages for APIM 4.2.0-alpha.1 - Dry Run
